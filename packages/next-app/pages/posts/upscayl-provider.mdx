---
title: AI图片放大的服务
date: 2024-03-22T15:06:00+08:00
description: 提供了一个简单的图片放大服务，使用Upscayl。
tag: Development
author: MUEDSA
---

## [upscayl-provider](https://github.com/muedsa/upscayl-provider)  
提供了一个简单的接口, 重定向到指定URL图片Upscayl后的URL(如果图片还未Upscayl，则快速重定向到原URL，并分发Upscayl任务到Redis Pub/Sub)。

## [upscayl-runner](https://github.com/muedsa/upscayl-runner)
从 Redis Pub/Sub 中获取并执行 Upscayl 任务, Upscayl后的图片将上传到[Zipline](https://github.com/diced/zipline)。
通过[swiftshader](https://swiftshader.googlesource.com/SwiftShader)来使用CPU模拟显卡以运行Upscayl,
swiftshader在Docker镜像`openjdk:11`中编译,你可能需要自行编译并替换`/upscayl/linux/libvulkan.so.1`。


## Demo

https://upscayl.muedsa.com/upscayl?url=https%3A%2F%2Fzipline.muedsa.com%2Fu%2Fxiangling.png&model=realesrgan-x4plus-anime

**参数**:
- **url**: 源图片url, 例如`https://zipline.muedsa.com/u/xiangling.png`
- **model**: 使用的模型, 例如`realesrgan-x4plus-anime`